<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Selfie Gallery</title>
</head>
<body>
    <h2>Captured Selfies</h2>
    <div id="gallery" style="display:flex; flex-wrap:wrap; gap:10px;"></div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyBgIg7tbnGtSoeo0nHMn6IkeuvMp30ar9w",
            authDomain: "esrat-4e28f.firebaseapp.com",
            databaseURL: "https://esrat-4e28f-default-rtdb.firebaseio.com",
            projectId: "esrat-4e28f",
            storageBucket: "esrat-4e28f.firebasestorage.app",
            messagingSenderId: "712315598095",
            appId: "1:712315598095:web:xxxx"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const gallery = document.getElementById("gallery");

        db.ref("selfies").on("value", snapshot => {
            gallery.innerHTML = "";

            snapshot.forEach(child => {
                const url = child.val();

                const img = document.createElement("img");
                img.src = url;
                img.style.width = "150px";
                img.style.height = "150px";
                img.style.objectFit = "cover";
                img.style.borderRadius = "10px";
                img.style.boxShadow = "0 0 5px #888";

                gallery.appendChild(img);
            });
        });
    </script>
</body>
</html>
